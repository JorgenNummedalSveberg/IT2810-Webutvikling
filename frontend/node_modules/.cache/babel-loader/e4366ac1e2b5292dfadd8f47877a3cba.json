{"ast":null,"code":"var _jsxFileName = \"C:\\\\webdev\\\\prosjekt-4-jns\\\\frontend\\\\src\\\\Components\\\\MovieSection\\\\MovieSection.tsx\";\nimport React from 'react';\nimport './CSS/MovieSection.css';\nimport { Grid, Message, Pagination } from 'semantic-ui-react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setPage } from \"../../actions\";\nimport Popup from './Popup';\nimport MovieCard, { DimCard } from \"./MovieCard\"; // Komponent som viser frem alle filmene i en responsiv grid\n\nfunction MovieSection() {\n  // Nødvendig for redux\n  const dispatch = useDispatch(); // Redux tate for å holde styr på hvilen side vi er på\n\n  const page = useSelector(state => state.page); // Definerer en side å vise i tilfellet ingen filmer blir hentet\n\n  const errorPage = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"GridView\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    style: {\n      margin: \"20px\",\n      width: '100%'\n    },\n    centered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Message, {\n    error: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Message.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 21\n    }\n  }, \"No movies\"), /*#__PURE__*/React.createElement(Message.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 21\n    }\n  }, \"This might be because:\"), /*#__PURE__*/React.createElement(Message.List, {\n    items: ['You may not be on the NTNU network or your VPN is off', \"We do not have the movie you're looking for\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Message.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: 'https://www.youtube.com/watch?v=oHg5SJYRHA0',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 25\n    }\n  }, \"Maybe this can help\"))))); // Sjekker først om det faktisk ble hentet filmer, og så filterer og displayer filmene\n\n  return useSelector(state => {\n    if (state.movies.hasOwnProperty('error')) {\n      return errorPage;\n    } else {\n      // Filtrerer utvalget basert på rating og årstall\n      const movies = state.movies.filter(movie => movie.imdbRating >= state.filter.score[0] && movie.imdbRating <= state.filter.score[1] && parseInt(movie.year) >= state.filter.year[0] && parseInt(movie.year) <= state.filter.year[1] && (!state.user || !!state.user && (!state.filter.myMovies || state.user.movies.includes(movie._id))));\n\n      if (state.movies.length > 0 && movies.length === 0) {\n        return errorPage;\n      }\n\n      const movieList = [];\n      movies.forEach((movie, index) => {\n        if (!movieList[Math.floor(index / 20)]) {\n          movieList[Math.floor(index / 20)] = [];\n        }\n\n        movieList[Math.floor(index / 20)].push(movie);\n      }); // Lager en liste med sorte kort som placeholder mens filmene laster\n\n      const dimList = () => {\n        const list = [];\n\n        for (let i = 0; i < 20; i++) {\n          list.push( /*#__PURE__*/React.createElement(DimCard, {\n            key: i,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 31\n            }\n          }));\n        }\n\n        return list;\n      }; // Lager en liste av alle MovieCards som skal med i Griden\n\n\n      let movieCards = dimList();\n\n      if (typeof movieList[page] !== \"undefined\") {\n        movieCards = movieList[page].map((movie, index) => {\n          return /*#__PURE__*/React.createElement(MovieCard, {\n            movie: movie,\n            key: index,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 25\n            }\n          });\n        });\n      } // Definerer sidevalg menyen\n\n\n      const pagination = /*#__PURE__*/React.createElement(Pagination, {\n        pointing: true,\n        secondary: true,\n        firstItem: null,\n        lastItem: null,\n        style: {\n          margin: \"20px\"\n        },\n        onPageChange: (e, {\n          activePage\n        }) => {\n          dispatch(setPage(activePage - 1));\n        },\n        activePage: page + 1,\n        totalPages: movieList.length,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }\n      });\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"GridView\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 17\n        }\n      }, state.details.show ? /*#__PURE__*/React.createElement(Popup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 25\n        }\n      }) : null, pagination, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          width: '100%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        style: {\n          margin: \"20px\"\n        },\n        centered: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 25\n        }\n      }, movieCards)), pagination);\n    }\n  });\n}\n\nexport default MovieSection;","map":{"version":3,"sources":["C:/webdev/prosjekt-4-jns/frontend/src/Components/MovieSection/MovieSection.tsx"],"names":["React","Grid","Message","Pagination","useDispatch","useSelector","setPage","Popup","MovieCard","DimCard","MovieSection","dispatch","page","state","errorPage","margin","width","movies","hasOwnProperty","filter","movie","imdbRating","score","parseInt","year","user","myMovies","includes","_id","length","movieList","forEach","index","Math","floor","push","dimList","list","i","movieCards","map","pagination","e","activePage","details","show"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './CSS/MovieSection.css';\r\nimport {Grid, Message, Pagination} from 'semantic-ui-react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {State} from \"../../types/State\";\r\nimport {setPage} from \"../../actions\";\r\nimport Popup from './Popup';\r\nimport MovieCard, {DimCard} from \"./MovieCard\";\r\n\r\n\r\n// Komponent som viser frem alle filmene i en responsiv grid\r\nfunction MovieSection() {\r\n    // Nødvendig for redux\r\n    const dispatch = useDispatch();\r\n\r\n    // Redux tate for å holde styr på hvilen side vi er på\r\n    const page = useSelector((state: State) => state.page);\r\n\r\n    // Definerer en side å vise i tilfellet ingen filmer blir hentet\r\n    const errorPage = (\r\n        <div className={\"GridView\"}>\r\n            <Grid style={{margin: \"20px\", width: '100%'}} centered>\r\n                <Message error>\r\n                    <Message.Header>\r\n                        No movies\r\n                    </Message.Header>\r\n                    <Message.Content>\r\n                        This might be because:\r\n                    </Message.Content>\r\n                    <Message.List\r\n                        items={['You may not be on the NTNU network or your VPN is off', \"We do not have the movie you're looking for\"]}/>\r\n                    <Message.Content>\r\n                        <a href={'https://www.youtube.com/watch?v=oHg5SJYRHA0'}>Maybe this can help</a>\r\n                    </Message.Content>\r\n                </Message>\r\n            </Grid>\r\n        </div>\r\n    )\r\n\r\n    // Sjekker først om det faktisk ble hentet filmer, og så filterer og displayer filmene\r\n    return useSelector((state: State) => {\r\n        if (state.movies.hasOwnProperty('error')) {\r\n            return (errorPage);\r\n        } else {\r\n            // Filtrerer utvalget basert på rating og årstall\r\n            const movies = state.movies\r\n                .filter(movie =>\r\n                    movie.imdbRating >= state.filter.score[0] &&\r\n                    movie.imdbRating <= state.filter.score[1] &&\r\n                    parseInt(movie.year) >= state.filter.year[0] &&\r\n                    parseInt(movie.year) <= state.filter.year[1] &&\r\n                    (!state.user || (!!state.user && (!state.filter.myMovies || state.user.movies.includes(movie._id)))));\r\n\r\n            if (state.movies.length > 0 && movies.length === 0) {\r\n                return (errorPage);\r\n            }\r\n\r\n            const movieList: any[] = [];\r\n            movies.forEach((movie, index) => {\r\n                if (!movieList[Math.floor(index / 20)]) {\r\n                    movieList[Math.floor(index / 20)] = [];\r\n                }\r\n                movieList[Math.floor(index / 20)].push(movie);\r\n            })\r\n\r\n            // Lager en liste med sorte kort som placeholder mens filmene laster\r\n            const dimList = () => {\r\n                const list = [];\r\n                for (let i = 0; i < 20; i++) {\r\n                    list.push(<DimCard key={i}/>);\r\n                }\r\n                return list;\r\n            }\r\n\r\n            // Lager en liste av alle MovieCards som skal med i Griden\r\n            let movieCards: any[] = dimList();\r\n            if (typeof movieList[page] !== \"undefined\") {\r\n                movieCards = movieList[page].map((movie: any, index: number) => {\r\n                    return (\r\n                        <MovieCard movie={movie} key={index}/>\r\n                    )\r\n                })\r\n            }\r\n\r\n            // Definerer sidevalg menyen\r\n            const pagination = (\r\n                <Pagination\r\n                    pointing\r\n                    secondary\r\n                    firstItem={null}\r\n                    lastItem={null}\r\n                    style={{margin: \"20px\"}}\r\n                    onPageChange={(e, {activePage}) => {\r\n                        dispatch(setPage((activePage as number) - 1));\r\n                    }}\r\n                    activePage={page + 1}\r\n                    totalPages={movieList.length}/>\r\n            )\r\n\r\n            return (\r\n                <div className={\"GridView\"}>\r\n                    {state.details.show ?\r\n                        <Popup/> : null\r\n                    }\r\n                    {pagination}\r\n                    <div style={{width:'100%'}}>\r\n                        <Grid style={{margin: \"20px\"}} centered>\r\n                            {movieCards}\r\n                        </Grid>\r\n                    </div>\r\n\r\n                    {pagination}\r\n                </div>\r\n            )\r\n        }\r\n    })\r\n}\r\n\r\nexport default MovieSection;"]},"metadata":{},"sourceType":"module"}